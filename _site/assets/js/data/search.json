[
  
  {
    "title": "THM Passive Reconnaissance",
    "url": "/posts/THM-PassiveRecon/",
    "categories": "THM",
    "tags": "Reconnaissance",
    "date": "2024-01-13 02:49:00 +0300",
    





    
    "snippet": "Passive reconnaissance is all about gathering information about a target without directly interacting with the system and the people. In this room we will learn about the various tools and techniqu...",
    "content": "Passive reconnaissance is all about gathering information about a target without directly interacting with the system and the people. In this room we will learn about the various tools and techniques that will be used to carry out passive reconnaissance as well as test our knowledge about it as we go along. Another reason why it is important to learn about it is because it is the first step in the cyber kill chain before hackers finally decide what weapons they will create and send to their target. It would be interesting to know how they do it without getting noticed.Passive versus Active reconReconnaissance is all about gathering information about the target but those can be done by either directly interacting with the targets systems, network and people or doing it indirectly such that no one will even know or have evidence that you were gathering information. Active recon is where there is direct interaction whereas Passive is all about observing from a distance.Active reconnaissance involves direct interaction with a target system or network to gather information. This can include connecting to the company’s servers, engaging with the staff of the company, and scanning and enumerating the network.Passive reconnaissance involves gathering information about a target system or network without direct interaction. Some examples of passive reconnaissance include looking at job adverts that expose software competency requirements and conducting advanced Google searches.Q: You visit the Facebook page of the target company, hoping to get some of their employee names. What kind of reconnaissance activity is this? (A for active, P for passive) PWhen you visit the Facebook page you are not directly engaging with the company’s system or network, instead, you are just viewing information that was made public by the organization.Q: You ping the IP address of the company webserver to check if ICMP traffic is blocked. What kind of reconnaissance activity is this? (A for active, P for passive) AJust by directly involving the IP address of the organization, it is evident that it is active reconnaissance. The IP address is part of the target machine that is within the organizations network.Q: You happen to meet the IT administrator of the target company at a party. You try to use social engineering to get more information about their systems and network infrastructure. What kind of reconnaissance activity is this? (A for active, P for passive) AActive because there is direct engagement with the members of the organization. They are aware that you are gathering information about their systems and network infrastructure. The whole point of passive recon is that no one is aware at all. Social engineering may not be known when it is happening, but they eventually realize it later on.WhoisWhois is a request and response protocol which listens on TCP port 43.Whois can give us information on:  The registrar which the domain name was registered  Contact info of registrant: Name, organization, address, phone etc.  Creation, update, and expiration dates of the domain name  Name Server: Which server to ask to resolve the domain name?A whois command was done for tryhackme.com as shown below:whois tryhackme.comIt displays the name of the server used by tryhackme, updated and creation date of the domain name and other details tied to the domain tryhackme.com. The questions below also show more information that was found to do with tryhackme.comQ: When was TryHackMe.com registered? 20180705Q: What is the registrar of TryHackMe.com? namecheap.comQ: Which company is TryHackMe.com using for name servers?cloudflare.comnslookup and dignslookup — name server lookupIt can be used to find the domain name of an IP address:nslookup domain_nameThe command can be customized to find specifically IPv4 address with the option A or IPv6 address with the option AAAA:nslookup option domain_name serverOther options include CNAME — Canonical Name, MX — Mail Servers, SOA — Start of Authority, TXT — txt recordsDNS servers are different for different companies, e.g., Cloudflare 1.1.1.1 and Google 8.8.8.8. These are public servers, but private servers can also be used.When someone sends an email to @tryhackme.com. It will connect to the first mail server aspmx.l.google.com and if it doesn’t work it connects to other mail exchange servers. alt1.aspmx.l.google.com or alt2.aspmx.l.google.com in the right order.dig — Domain Information Gropper is a more advance domain query tool compared to nslookup.Dig can be used to find the IP address and also specify the type of DNS records that we are looking for.Q: Check the TXT records of thmlabs.com. What is the flag there?The “dig” command is short for “domain information groper” and is used to perform DNS lookups to obtain information about DNS zones, domain names, and IP addresses. The “thmlabs.com” is the domain name being queried. The “TXT” argument specifies the type of DNS record being requested. In this case, it is requesting the TXT record, which is a type of DNS record that allows domain owners to associate arbitrary text with a domain name.DNS dumpsterIt’s a free online search tool that enable’s one to get more detailed information about a Domain name that a simple dig or nslookup command cannot find. This information is displayed in a readable format.Q: Lookup tryhackme.com on DNS dumpster. What is one interesting subdomain that you would discover in addition to www and blog? RemoteShodan.ioThrough shodan you can learn a lot about a client’s network without connecting to it directly. You can also keep track of devices that have been exposed within an organization’s network.Q: According to Shodan.io, what is the 2nd country in the world in terms of the number of publicly accessible Apache servers? GermanyQ: Based on Shodan.io, what is the 3rd most common port used for Apache? 8080Q: Based on Shodan.io, what is the 3rd most common port used for nginx? 888In conclusion, we now understand how passive recon works and the tools that are used to carry it out. We have polished up on the fundamentals of passive recon. Kudos to us!"
  },
  
  {
    "title": "HTB Linux Fundamentals",
    "url": "/posts/HTB-LinuxFundamentals/",
    "categories": "HTB",
    "tags": "Linux",
    "date": "2023-05-30 07:27:00 +0300",
    





    
    "snippet": "Understanding operating systems is crucial for cybersecurity. Before hackers make use of tools, they install and deploy attacking software like ransomware using the operating system. Hackers also a...",
    "content": "Understanding operating systems is crucial for cybersecurity. Before hackers make use of tools, they install and deploy attacking software like ransomware using the operating system. Hackers also attack people’s operating systems to try and have acces to sensitive information, the network itself and even stop people from having access to their systems which can hinder productivity and business contnuity. As a cybersecurity professional, understanding the operating systems can help when identifying vulnerabilities, attacks when they are happening or when they have happened and ways in which we can make use of the operating system alongside other tools to secure other operating systems and networks from cyber attacks.The ShellQ: Find out the machine hardware name and submit it as the answer x86_64The uname -m command is used to display the machine hardware name orarchitecture of the computer system. It is a shell command available on Unix-likeoperating systems. The output of the command provides information about thesystem’s processor or typeuname -mQ: What is the path to htb-student’s home directory? /home/htb-studentThe pwd command is a shell command that stands for “print working directory”.When you run the pwd command in a terminal or command prompt, it printsthe full path of the current working directory, which is the directory that you arecurrently in. That’s how I was able to find the path.Q: What is the path to the htb-student’s mail? /var/mail/htb-studentThe /var/mail/ directory is a system directory that contains user mailboxes forlocal mail delivery. When a user on the local system receives mail, it is typicallystored in a mailbox file within the /var/mail/ directory with the same name as theuser’s login name. Hence why it was easy to find htb-student’s mail, because it’sthe default place to find it.Q: Which shell is specified for the htb-student user? /bin/bashThe echo $SHELL command is used to display the default shell that is currentlybeing used in the terminal or command prompt. The $SHELL variable is anenvironment variable that stores the path to the default shell executable file.When you run the echo $SHELL command in a terminal or command prompt,it will output the path to the default shell executable file, which is typically abinary file such as /bin/bash, /bin/sh, /bin/zsh, or /bin/csh. This indicates whichshell is currently being used to interpret and execute commands entered into theterminal or command prompt.Q: Which kernel version is installed on the system? (Format: 1.22.3) 4.15.0The uname -r command is a shell command used to display the kernel release ofthe operating system. The uname command is typically available on Unix-likeoperating systems and stands for “Unix Name”. The -r option specifies that onlythe kernel release should be displayed.When you run the uname -r command, it will output the kernel release of theoperating system, which is a string of text that represents the version number ofthe currently running kernel.Q: What is the name of the network interface that MTU is set to 1500? ens192The ifconfig command is a shell command used to display information aboutnetwork interfaces on a Unix-like operating system. The -a option specifies thatall network interfaces, including those that are currently down, should bedisplayed.When you run the ifconfig -a command, it will output information about allnetwork interfaces on the system, including their IP addresses, netmasks, andother configuration details. The output will typically be divided into sections foreach network interface.NavigationQ: What is the name of the hidden “history” file in the htb-user’s home directory? .bash_historyThe ls -la command is a command used in Unix-based operating systems (such asLinux and macOS) to list the files and directories in the current directory,including hidden files. The -l option makes the command display the files anddirectories in a long format, which includes additional information such as thefile permissions, owner, size, and modification date. The -a option makes thecommand display all files, including those whose names begin with a dot (whichare hidden by default).Q: What is the index number of the “sudoers” file in the “/etc” directory?147627I first got into the /etc folder using the cd /etc command. I listed all the filesincluding each file’s inode number using ls -i command. I managed to find the sudoersfile as shown below:ls -i sudoersWorking with Files and DirectoriesQ: What is the name of the last modified file in the “/var/backups” directory?apt.extended_states.0The ls -lt command is a command used in Unix-based operating systems to listfiles and directories in a directory in long format, sorted by modification time.The -l option displays the files and directories in a long format, which includesdetailed information such as file types, permissions, ownership, file size, andmodification time. The -t option sorts the files and directories by modificationtime, with the most recently modified files or directories appearing first.Together, ls -lt displays the files and directories in a long format, sorted by themost recently modified files or directories first. This is useful for quicklyidentifying the files or directories that have been recently modified or accessedin a directory.Q: What is the inode number of the “shadow.bak” file in the “/var/backups” directory?265293The ls -i command is used in Unix-based operating systems to display the inodenumber of a file or directory. The inode is a data structure that stores informationabout a file or directory, such as ownership, permissions, and location on the filesystem.When used with a filename, ls -i displays the inode number of the file or directory.For example, the command ls -i shadow.bak will display the inode number of thefile shadow.bak.Find files and directoriesQ: What is the name of the last modified file in the “/var/backups” directory?apt.extended_states.0Searching files in the entire file system that meet the following criteria:  - type f: The file must be a regular file (not a directory or other type of file).-name  - conf: The file name must end with the “.conf” extension.-user root: The owner of the file must be the root user.  -size +25k: The file size must be greater than 25 kilobytes.  -newermt 2020-03-03: The file must have been modified more recently thanMarch 3, 2020.  -exec ls -al {}\\;: For each file that meets the above criteria, the ls -al command isexecuted, which displays detailed information about the file, such as itspermissions, ownership, size, and modification time.  2&gt;/dev/null: Any error messages generated by the find command are redirectedto /dev/null, which discards them.find /-type f -name *.conf -user root -size +25k -newermt 2020-03-03 ls -al {} \\; 2&gt;/dev/null Q: What is the inode number of the “shadow.bak” file in the “/var/backups” directory?265293Q: What is the name of the config file that has been created after 2020-03-03 and issmaller than 28k but larger than 25k? 00-mesa-defaults.confSearching for files with the “.bak” extension in the entire file system anddisplaying detailed information about them. It is useful for finding backup filesthat may have been left behind or forgotten in various locations on the filesystem.  -type f: The file must be a regular file (not a directory or other type of file).  -name *.bak: The file name must end with the “.bak” extension.  -exec ls -al {}\\;: For each file that meets the above criteria, the ls -al command isexecuted, which displays detailed information about the file, such as itspermissions, ownership, size, and modification time.  2&gt;/dev/null: Any error messages generated by the find command are redirectedto /dev/null, which discards them.find / -type f -name *.bak -exec ls -al {} \\; 2&gt;/dev/nullQ: Submit the full path of the “xxd” binary. /usr/bin/xxdThe which xxd command is used to create a hex dump of a given file or standard input.To find the file location of xxd “which” is used before xxd.File descriptors and redirectionsQ: How many files exist on the system that have the “.log” file extension? 32            The complete command specifies that a file is being looked for, with a name extension of .log. 2&gt;/dev/null redirects any errors to the nullcdevice.      is used to filter results wc -l does a word of all the lines listed in the output.      find /type f -name *.log 2&gt;/dev/null | wc -l Q: How many total packages are installed on the target system? 737After running the dpkg --list command, a list of all installed packages appeared,along with their version numbers, descriptions, and other information. Theoutput can be quite long, so I piped the output to a pager program as shown inthe second screenshot.The command dpkg --list | grep ii | wc -l outputs the total number of installedpackages on your system.Filter contentsQ: How many services are listening on the target system on all interfaces? (Not onlocalhost and IPv4 only) 7When executed, -l will display a list of all the open network connections on thesystem, along with the associated protocol, local and remote IP addresses, andport numbers.The -l option specifically instructs netstat to only show listening sockets, whichare endpoints of a communication channel that are waiting for incomingconnections. This can be particularly useful for network administrators who needto troubleshoot network issues or for security analysts who need to monitornetwork activity.Q: Determine what user the ProFTPd server is running under. Submit the username asthe answer. Proftpdps is being used to display information about the running processes on a system.When executed without any options or arguments, the ps command shows a listof the processes associated with the current terminal session.Q: Use cURL from your Pwnbox (not the target machine) to obtain the source code ofthe “https://www.inlanefreight.com” website and filter all unique paths of that domain.Submit the number of these paths as the answer. 34Service and Process ManagementQ: Use the “systemctl” command to list all units of services and submit the unit namewith the description “Load AppArmor profiles managed internally by snapd” as theanswer.  snapd.apparmor.serviceThe systemctl list-unit-files command lists the unit files that systemd knowsabout, and the grep -i \"AppArmor\" part of the command filters the output toonly show the lines that contain the string “AppArmor” (case-insensitive). So thefull command systemctl list-unit-files | grep -i \"AppArmor\" is used to list the unitfiles related to AppArmor.AppArmor is a Linux security module that can be used to restrict the capabilitiesof individual applications, and it is often used in conjunction with other securitymechanisms to provide a defense-in-depth approach to security. The output ofthe command shows all the unit files related to AppArmor, if any are installed onthe system.Task SchedulingQ: What is the type of the service of the “syslog.service”? notifyThe systemctl show command with the -p option is used to show specificproperties of a systemd unit. In this case, the command systemctl showsyslog.service -p Type will show the value of the Type property for thesyslog.service unit.The Type property specifies the type of the systemd unit, which can be one ofseveral values, including simple, forking, oneshot, dbus, notify, and others.The output of the command will be a single line showing the value of the Typeproperty for the syslog.service unit, which will indicate what kind of service it is.For example, it might show Type=simple, indicating that the service is a simpleservice that runs in the foreground.That concludes the Linux fundamentals module on HTB, onto the next! 😊"
  },
  
  {
    "title": "HTB Introduction To Web Applications",
    "url": "/posts/HTB-IntroductionToWebApps/",
    "categories": "HTB",
    "tags": "Web Apps",
    "date": "2023-05-28 07:27:00 +0300",
    





    
    "snippet": "In order to be able to secure web applications, an understanding of how web applications work, their architecture and vulnerabilites is important to be able to secure them effectively. In this post...",
    "content": "In order to be able to secure web applications, an understanding of how web applications work, their architecture and vulnerabilites is important to be able to secure them effectively. In this post, I will demonstrate how I went about the labs in this module of HTB Academy.Front End ComponentsHTMLQ: What is the HTML tag used to show an image? &lt;img&gt;Cascading Style Sheets (CSS)Q: What is the CSS “property: value” used to make an HTML element’s text aligned to the left? text-align: left;Front End VulnerabilitiesSensitive Data ExposureQ: Check the above login form for exposed passwords. Submit the password as the answer.HiddenInPlainSightStart by copy pasting the spawn machine’s ip address to the webpage search bar. A login page will appear.Click view page source to have access to the source code of theform and it will display as shown below:If you scroll a bit further down, you will notice some commented code that exposes credentials that can be used to login where the username is admin and the password HiddenInPlainSight. If you try to login with the exposed test credentials, nothing will occur:HTML InjectionHTML Injection happens when you input data into the input fields of a particular website and its displayed back to you on the page.Q:What text would be displayed on the page if we use the following payload as our input: Click Me Your name is Click MeEnter the provided ip address in the search bar. A web page will display a button which when clicked will display a modal containing a name input field as shown below:Payload is harmful code intended to harm the target machine or network. Copy paste the payload into the name input field.The payload in this particular context is just an anchor element containing a link to hack the box official website. Ater submitting the input the page will display “Click me” which is the clickable link to the webiste.Upon cliking the link, you will be directed to http://www.hackthebox.comCross-Site Scripting (XSS)Q: Try to use XSS to get the cookie value in the above pageXSSisFunInject the following DOM XSS JavaScript code as a payload, which should show us the cookie value for the current user:#\"&gt;&lt;img src=/ onerror=alert(document.cookie)&gt;An alert window pops up with the cookie value in it:Back End ComponentsBack End ServersQ: What operating system is ‘WAMP’ used with?WindowsWAMP is a type of combination for back end servers. It consists of Windows, Apache, MySQL, and PHP.Web ServersQ: If a web server returns an HTTP code 201, what does it stand for? createdHTTP codes are number responses from the web server and each number combination means something. 201 meaning created, 404 meaning not found and so on.DatabasesQ: What type of database is Google’s Firebase Database? NoSQLDatabases store web application information. NoSQL falls under the category on non-relational databses meaning that it lacks the structure of tables consisting of rows and columns.Development Frameworks &amp; APIsQ: Use GET request ‘/index.php?id=0’ to search for the name of the user with id number 1? superadminCopy paste the get request to the end of the url containing the machine’s IP address. At first an error will appear stating that the user with id 0 doesn’t exist.Change the id to 1 as directed by the question. The page displays the user superadmin.Back End VulnerabilitiesCommon Web VulnerabilitiesQ: To which of the above categories does public vulnerability ‘CVE-2014-6271’ belongs to? Command InjectionThe CVE (Common Vulnerabilities and Exposures) database by MITRE corporation https://cve.mitre.org/, contains information about hardware and software vulnerabilities and each vulnerability has a unique identifier. To figure our the category of the given vulnerability search for it in the CVE database.Public VulnerabilitiesQ:  What is the CVSS score of the public vulnerability CVE-2017-0144? 9.3The CVSS (Common Vulnerability Scoring System), is an open-source industry standard for assessing the severity of security vulnerabilities. Use version 2 https://nvd.nist.gov/vuln-metrics/cvss/v2-calculator to calculate the level of severity of CVE-2017-0144.Enter the CVE id for the vulnerability to be measured and search:The results indicate 9.3 which is high:That concludes the Linux fundamentals module on HTB, onto the next! 😊"
  }
  
]

